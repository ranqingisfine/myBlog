"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6465],{66262:(i,s)=>{s.A=(i,s)=>{const t=i.__vccOpts||i;for(const[i,n]of s)t[i]=n;return t}},46889:(i,s,t)=>{t.r(s),t.d(s,{comp:()=>e,data:()=>p});var n=t(20641);const a={},e=(0,t(66262).A)(a,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,s[0]||(s[0]=[(0,n.Fv)('<h1 id="_8-1-8-买卖股票的最佳时机ii" tabindex="-1"><a class="header-anchor" href="#_8-1-8-买卖股票的最佳时机ii"><span>8.1.8 买卖股票的最佳时机II</span></a></h1><p>leetCode.122</p><p><strong>题目</strong>：给你一个整数数组 <code>prices</code> ，其中 <code>prices[i]</code> 表示某支股票第 <code>i</code> 天的价格。</p><p>在每一天，你可以决定是否购买和/或出售股票。你在任何时候 <strong>最多</strong> 只能持有 <strong>一股</strong> 股票。然而，你可以在 <strong>同一天</strong> 多次买卖该股票，但要确保你持有的股票不超过一股。</p><p>返回 <em>你能获得的 <strong>最大</strong> 利润</em> 。</p><p><strong>理解题意</strong>：</p><ul><li>任何时候 <strong>最多</strong> 只能持有 <strong>一股</strong> 股票：不能买多股，保证买股票的钱=1股*股价</li><li><strong>同一天</strong> 多次买卖该股：每天可以买、可以卖，甚至<strong>同一天先卖再买</strong>（但不能同时持有多股）</li></ul><p><strong>分析</strong>：</p><ul><li><p>不用纠结 “哪天买哪天卖”，核心是<strong>抓住所有价格上涨的区间</strong>（只要后一天比前一天贵，就有利润可赚）；</p></li><li><p>“持有到最后卖” 和 “每天高抛低吸” 的总利润相等，累加所有上涨差价就对了，证明：</p></li><li><p>假设股票价格在连续上涨区间的价格是：<code>p0, p1, p2, ..., pn</code>（其中 p1&gt;p0、p2&gt;p1、…、pn&gt;pn-1）。</p><ul><li><strong>一次性买卖的利润</strong>：pn - p0；</li><li><strong>拆分买卖的利润</strong>：(p1-p0) + (p2-p1) + (p3-p2) + ... + (pn-pn-1)。</li></ul><p>我们把拆分买卖的式子展开：</p><p>(p1-p0) + (p2-p1) + (p3-p2) + ... + (pn-pn-1)</p><p>= p1 - p0 + p2 - p1 + p3 - p2 + ... + pn - pn-1</p><p>会发现，中间的 p1、p2、…、pn-1 全部抵消了，最后只剩下 <code>pn - p0</code> —— 和一次性买卖的利润完全相等</p></li></ul><p><strong>代码</strong>：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Solution</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> maxProfit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[] </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">prices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> n</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> prices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> profit</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> n; i++) {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            profit</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(prices[i]</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">prices[i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> profit;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',11)]))}]]),p=JSON.parse('{"path":"/%E5%85%AB%E3%80%81LeetCode/8.1%20%E6%95%B0%E7%BB%84_%E5%AD%97%E7%AC%A6%E4%B8%B2/8.1.8%20%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAII.html","title":"8.1.8 买卖股票的最佳时机II","lang":"zh-CN","frontmatter":{"\x3c!--cover":"/assets/images/cover2.jpg--\x3e","icon":"pen-to-square","date":"2025-02-24T00:00:00.000Z","category":["LeetCode"],"tag":["贪心"],"star":true,"ticky":true,"description":"8.1.8 买卖股票的最佳时机II leetCode.122 题目：给你一个整数数组 prices ，其中 prices[i] 表示某支股票第 i 天的价格。 在每一天，你可以决定是否购买和/或出售股票。你在任何时候 最多 只能持有 一股 股票。然而，你可以在 同一天 多次买卖该股票，但要确保你持有的股票不超过一股。 返回 你能获得的 最大 利润 。 ...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/myBlog/%E5%85%AB%E3%80%81LeetCode/8.1%20%E6%95%B0%E7%BB%84_%E5%AD%97%E7%AC%A6%E4%B8%B2/8.1.8%20%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BAII.html"}],["meta",{"property":"og:site_name","content":"Java笔记"}],["meta",{"property":"og:title","content":"8.1.8 买卖股票的最佳时机II"}],["meta",{"property":"og:description","content":"8.1.8 买卖股票的最佳时机II leetCode.122 题目：给你一个整数数组 prices ，其中 prices[i] 表示某支股票第 i 天的价格。 在每一天，你可以决定是否购买和/或出售股票。你在任何时候 最多 只能持有 一股 股票。然而，你可以在 同一天 多次买卖该股票，但要确保你持有的股票不超过一股。 返回 你能获得的 最大 利润 。 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-27T01:31:13.000Z"}],["meta",{"property":"article:tag","content":"贪心"}],["meta",{"property":"article:published_time","content":"2025-02-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-27T01:31:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"8.1.8 买卖股票的最佳时机II\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-02-24T00:00:00.000Z\\",\\"dateModified\\":\\"2026-02-27T01:31:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"冉庆\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":1771984694000,"updatedTime":1772155873000,"contributors":[{"name":"ranqing","email":"2516488782@qq.com","commits":3}]},"readingTime":{"minutes":1.46,"words":437},"filePathRelative":"八、LeetCode/8.1 数组&字符串/8.1.8 买卖股票的最佳时机II.md","localizedDate":"2025年2月24日","excerpt":"\\n<p>leetCode.122</p>\\n<p><strong>题目</strong>：给你一个整数数组 <code>prices</code> ，其中 <code>prices[i]</code> 表示某支股票第 <code>i</code> 天的价格。</p>\\n<p>在每一天，你可以决定是否购买和/或出售股票。你在任何时候 <strong>最多</strong> 只能持有 <strong>一股</strong> 股票。然而，你可以在 <strong>同一天</strong> 多次买卖该股票，但要确保你持有的股票不超过一股。</p>\\n<p>返回 <em>你能获得的 <strong>最大</strong> 利润</em> 。</p>","autoDesc":true}')}}]);