---
<!--cover: /assets/images/cover2.jpg-->
icon: pen-to-square
date: 2025-03-01
category:
  - LeetCode 
tag:
  - 方向模拟和分桶收集
star: true 
ticky: true


---

# 8.1.22 Z字形变换

**题目**：

将一个给定字符串 `s` 根据给定的行数 `numRows` ，以从上往下、从左到右进行 Z 字形排列。

比如输入字符串为 `"PAYPALISHIRING"` 行数为 `3` 时，排列如下：

```
P   A   H   N
A P L S I I G
Y   I   R
```

之后，你的输出需要从左往右逐行读取，产生出一个新的字符串，比如：`"PAHNAPLSIIGYIR"`。

请你实现这个将字符串进行指定行数变换的函数：

```java
string convert(string s, int numRows);
```



**分析**：

![](../pic/6.1.png)

- 初始化numRows个StringBuilder对象，用来存放字符
- i维护下标为i第StringBuilder对象，flag用来改变i的方向



**代码**：

```java
class Solution {
    public String convert(String s, int numRows) {
        if(numRows < 2){
            return s;
        }
        //初始化行字符串
        List<StringBuilder> raws=new ArrayList<StringBuilder>();
        for(int i=0;i<numRows;i++){
            raws.add(new StringBuilder());
        }
        //初始化行下标和标识
        int i=0;
        int flag=-1;
        for(char c:s.toCharArray()){
            raws.get(i).append(c);
            //如果是第1行或者最后1行，则改变标识方位
            if(i==0 || numRows-1==i){
                flag=-flag;
            }
            i+=flag;
        }
        StringBuilder sb=new StringBuilder();
        for(StringBuilder x:raws){
            sb.append(x.toString());
        }
        return sb.toString();
    }
}
```









